import{d,r as s,o as i,c as p,a as u,e as f,x as n,h as _,k as o}from"./index-CK62fWor.js";import{_ as g}from"./CustomForm.vue_vue_type_script_setup_true_lang-CDWfceke.js";import"./CustomSelect.vue_vue_type_script_setup_true_lang-S8JB5u0-.js";const y={class:"container"},X=d({__name:"GameNew",setup(x){const r=s([{label:"遊戲名稱",type:"text",depValue:"name",required:!0},{label:"入金 - 遊戲幣匯率 (台幣 : 遊戲幣 - 1 : XXX)",type:"float",depValue:"money_in_exchange",required:!0},{label:"出金 - 遊戲幣匯率 (台幣 : 遊戲幣 - 1 : XXX)",type:"float",depValue:"money_out_exchange",required:!0},{label:"交易手續費 (台幣)",type:"number",depValue:"charge_fee"},{label:"遊戲幣手續費",type:"float",depValue:"game_coin_fee"}]),t=s(r.reduce((e,a)=>({...e,[a.depValue]:""}),{})),l=[{color:"secondary",text:"返回",method:()=>n("/games")},{color:"primary",text:"新增",method:()=>m(),needValid:!0}],m=()=>{_("post","/apis/games",t).then(e=>{o("success",`已建立 "${e.name}" 遊戲類別`),n("/games")}).catch(e=>{e.status==409?o("info","遊戲已存在 !"):o("error","遊戲建立失敗 !")})};return(e,a)=>(i(),p("div",y,[a[1]||(a[1]=u("h3",{class:"m-4 text-center"},"新增遊戲類別",-1)),f(g,{fields:r,buttons:l,formData:t,"onUpdate:formData":a[0]||(a[0]=c=>t=c)},null,8,["fields","formData"])]))}});export{X as default};
