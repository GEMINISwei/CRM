import{d,r,o as p,c,a as i,e as m,x as s,h as f,k as _}from"./index-CK62fWor.js";import{_ as y}from"./CustomForm.vue_vue_type_script_setup_true_lang-CDWfceke.js";import"./CustomSelect.vue_vue_type_script_setup_true_lang-S8JB5u0-.js";const V={class:"container"},h=d({__name:"CouponNew",setup(b){const o=r([{label:"活動名稱",type:"text",depValue:"name",required:!0},{label:"開始日期",type:"date",depValue:"start_time",required:!0},{label:"結束日期",type:"date",depValue:"end_time",required:!0},{label:"滿額條件",type:"number",depValue:"money_floor",required:!0},{label:"優惠金額",type:"float",depValue:"money_free",required:!0}]),a=r(o.reduce((t,e)=>({...t,[e.depValue]:""}),{})),n=[{color:"secondary",text:"返回",method:()=>s("/coupons")},{color:"primary",text:"新增",method:()=>l(),needValid:!0}],l=()=>{f("post","/apis/coupons",a).then(t=>{_("success",`已建立 ${t.data.name} 活動`),s("/coupons")}).catch(t=>{})};return(t,e)=>(p(),c("div",V,[e[1]||(e[1]=i("h3",{class:"m-4 text-center"},"新增活動",-1)),m(y,{fields:o,buttons:n,formData:a,"onUpdate:formData":e[0]||(e[0]=u=>a=u)},null,8,["fields","formData"])]))}});export{h as default};
