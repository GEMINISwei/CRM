import{d as g,y,m as l,z as D,h as x,o as s,c as r,f as F,n as S,a as u,e as m,F as B,t as C,q as V,_ as w}from"./index-CK62fWor.js";import{D as U}from"./DataCard-BwGMVBZc.js";import{_ as h}from"./CustomSelect.vue_vue_type_script_setup_true_lang-S8JB5u0-.js";import{F as G}from"./FunctionBall-HZzMzsrG.js";const I={key:0},N={key:1,id:"stock-page-select-body",class:"container"},Q={class:"col-6 mt-2"},q="庫存列表",L="/apis/stocks",z=g({__name:"Stock",setup(A){const p=[{label:"角色名稱",depValue:"role_name"},{label:"角色數量",depValue:"balance"}],d=y(()=>({game_id:a.value})),n=l([]),a=l(""),c=l([]),_=[{text:"新增庫存角色",icon:"plus-square",goPath:"/stocks/new"},{text:"選擇遊戲",icon:"arrow-return-left",method:()=>v()}];D(()=>{f()});const f=()=>{x("get","/apis/games").then(o=>{c.value=o.data.map(t=>({text:t.name,value:t.id}))})},v=()=>{a.value=""},k=o=>{let t="";return t=new Intl.NumberFormat("en-US").format(o),t};return(o,t)=>(s(),r(B,null,[a.value?(s(),F(U,{key:0,titleText:q,fieldInfo:p,apiUrl:L,urlQuery:d.value,tableData:n.value,"onUpdate:tableData":t[0]||(t[0]=e=>n.value=e)},{tableCell:S(({fieldName:e,dataIndex:b})=>{var i;return[e=="balance"?(s(),r("span",I,C(k((i=n.value[b])==null?void 0:i[e])),1)):V("",!0)]}),_:1},8,["urlQuery","tableData"])):(s(),r("div",N,[t[2]||(t[2]=u("h3",null,"庫存列表",-1)),t[3]||(t[3]=u("h3",null,"請選擇遊戲類別",-1)),u("div",Q,[m(h,{options:c.value,inputData:a.value,"onUpdate:inputData":t[1]||(t[1]=e=>a.value=e)},null,8,["options","inputData"])])])),m(G,{functionList:_})],64))}}),T=w(z,[["__scopeId","data-v-7a57340e"]]);export{T as default};
